<!-- -<p-button label="Approuved" (click)="onApprove(user.id)"></p-button>-->

<h3 class="first">Toggleable Row Groups</h3>
<p-table *ngIf="jobAndCountryUsers" [value]="getJobList()" dataKey="index">

  <ng-template pTemplate="header">
    <tr>
      <th>FirstName</th>
      <th>LastName</th>
      <th>BirthDate</th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-rowJob let-expanded="expanded" let-columns="columns">
    <tr class="ui-widget-header">
      <td colspan="3">
        <a href="#" [pRowToggler]="rowJob">
          <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
          <span>{{rowJob.jobName}}</span>
        </a>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="rowexpansion" let-rowJob>
    <ng-container *ngTemplateOutlet="extensiontemplate1"></ng-container>
  </ng-template>

</p-table>


<ng-template #extensiontemplate1>
  <p-table [value]="getCountryList('CRAFTER')" dataKey="index">
    <ng-template pTemplate="body" let-rowCountry let-expandedd="expanded" let-columns="columns">
      <tr class="ui-widget-header">
        <td>
          <a href="#" [pRowToggler]="rowCountry">
            <i [ngClass]="expandedd ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
            <span>{{rowCountry.countryName}}</span>
          </a>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="rowexpansion" let-rowCountry>
      <tr *ngFor="let rowUser of getUsersList('CRAFTER', rowCountry.countryName)">
        <td>{{rowUser.firstName}}</td>
        <td>{{rowUser.lastName}}</td>
        <td>{{rowUser.birthDate}}</td>
      </tr>
    </ng-template>

  </p-table>
</ng-template>